<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# create .md file for all this steps we did for troubleshoting the inbould network block

Here is a ready-to-use **Nextcloud Home NAS Setup Guide** in Markdown (`.md`) format:

```markdown
# Nextcloud Home NAS Setup (Docker) – Step-By-Step Guide

## 1. Install Docker and Docker Compose

```


# For Ubuntu/Debian

sudo apt update \&\& sudo apt install docker.io docker-compose -y

# For Windows/Mac – Download Docker Desktop from official site

```

---

## 2. Create Nextcloud Project Directory

```

mkdir -p /docker/nextcloud
cd /docker/nextcloud

```

---

## 3. Create Environment Variables (.env) file

```

NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=your_secure_admin_password
MYSQL_ROOT_PASSWORD=your_secure_root_password
MYSQL_PASSWORD=your_secure_db_password
MYSQL_DATABASE=nextcloud
MYSQL_USER=nextcloud

```

---

## 4. Create docker-compose.yml

Remove any `version:` line.

```

volumes:
nextcloud_data:
db_data:

networks:
nextcloud_network:
driver: bridge

services:
db:
image: mariadb:10.6
container_name: nextcloud_db
hostname: nextcloud_db
restart: unless-stopped
command: --transaction-isolation=READ-COMMITTED --log-bin=binlog --binlog-format=ROW
environment:
- MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
      - MYSQL_PASSWORD=${MYSQL_PASSWORD}
- MYSQL_DATABASE=${MYSQL_DATABASE}
      - MYSQL_USER=${MYSQL_USER}
volumes:
- db_data:/var/lib/mysql
networks:
- nextcloud_network

nextcloud:
image: nextcloud:latest
container_name: nextcloud
hostname: nextcloud
restart: unless-stopped
ports:
- "0.0.0.0:8080:80"
depends_on:
- db
environment:
- MYSQL_HOST=db
- MYSQL_DATABASE=${MYSQL_DATABASE}
      - MYSQL_USER=${MYSQL_USER}
- MYSQL_PASSWORD=${MYSQL_PASSWORD}
      - NEXTCLOUD_ADMIN_USER=${NEXTCLOUD_ADMIN_USER}
- NEXTCLOUD_ADMIN_PASSWORD=\${NEXTCLOUD_ADMIN_PASSWORD}
- OVERWRITEHOST=<YOUR_LAPTOP_IP>:8080
- OVERWRITEPROTOCOL=http
volumes:
- nextcloud_data:/var/www/html
networks:
- nextcloud_network

```
Replace `<YOUR_LAPTOP_IP>` with your laptop’s local network IP (example: 192.168.1.100).

---

## 5. Start Nextcloud

```

docker-compose up -d

```

Check status:
```

docker ps

```

---

## 6. Allow Port 8080 in Windows Firewall

Run as Administrator (PowerShell):
```

netsh advfirewall firewall add rule name="Docker Nextcloud" dir=in action=allow protocol=tcp localport=8080

```

---

## 7. Access Nextcloud from Other Devices

- **On your laptop**: open [http://localhost:8080](http://localhost:8080)
- **On your phone (same WiFi)**: open [http://<YOUR_LAPTOP_IP>:8080](http://<YOUR_LAPTOP_IP>:8080)

Login with the admin credentials you set in the `.env` file.

---

## 8. First-Time File Upload, Folder Creation, and Sharing

- Click **"+"** to create a folder or upload files.
- Right-click any file/folder for sharing options.
- Use the share icon to generate links for others or add users/groups.

---

## 9. Troubleshooting: Unable To Access or Ping

- Check **WiFi Client Isolation** or **AP Isolation** is disabled on your router.
- Make sure both devices are on the same network (not guest or different bands).
- Verify firewall rules allow incoming connections on port 8080.
- ICMP/ping may be blocked by firewall – that’s ok as long as HTTP works.

---

## 10. Update and Maintenance

- Update containers:
```

docker-compose pull
docker-compose up -d

```
- Stop containers:
```

docker-compose down

```

---

## Notes

- You can use the official Nextcloud mobile app for an optimized experience (Android/iOS).
- Data is stored inside Docker volumes: `nextcloud_data` and `db_data`.
- Data is private and stored on your home server only.

---

_This guide provides a secure, private cloud solution for your home network using open-source software_.
```

**Save this as `Nextcloud_NAS_Setup.md`.**
Let me know if you want a downloadable file version or further customization!

